# UPJIè§†åŠ›æµ‹è¯•ç³»ç»Ÿå¼€æœºè‡ªå¯åŠ¨è¯´æ˜

## ğŸš€ å®‰è£…å¼€æœºè‡ªå¯åŠ¨

### æ–¹æ³•1: è¿è¡Œå®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd /home/cat/æ¡Œé¢/shilibiao/upji
chmod +x install_autostart_main.sh
./install_autostart_main.sh
```

### æ–¹æ³•2: æ‰‹åŠ¨å®‰è£…

1. **åˆ›å»ºsystemdç”¨æˆ·æœåŠ¡ç›®å½•**ï¼š
```bash
mkdir -p ~/.config/systemd/user
```

2. **å¤åˆ¶æœåŠ¡æ–‡ä»¶**ï¼š
```bash
cp upji-vision-test.service ~/.config/systemd/user/
```

3. **å¯ç”¨æœåŠ¡**ï¼š
```bash
systemctl --user daemon-reload
systemctl --user enable upji-vision-test.service
```

## ğŸ“‹ æœåŠ¡ç®¡ç†å‘½ä»¤

### åŸºæœ¬æ“ä½œ
- **æŸ¥çœ‹æœåŠ¡çŠ¶æ€**: `systemctl --user status upji-vision-test`
- **å¯åŠ¨æœåŠ¡**: `systemctl --user start upji-vision-test`
- **åœæ­¢æœåŠ¡**: `systemctl --user stop upji-vision-test`
- **é‡å¯æœåŠ¡**: `systemctl --user restart upji-vision-test`
- **ç¦ç”¨å¼€æœºè‡ªå¯åŠ¨**: `systemctl --user disable upji-vision-test`

### æ—¥å¿—æŸ¥çœ‹
- **æŸ¥çœ‹å®æ—¶æ—¥å¿—**: `journalctl --user -u upji-vision-test -f`
- **æŸ¥çœ‹æœ€è¿‘æ—¥å¿—**: `journalctl --user -u upji-vision-test -n 50`
- **æŸ¥çœ‹é”™è¯¯æ—¥å¿—**: `journalctl --user -u upji-vision-test --priority=err`

## ğŸ”§ é…ç½®è¯´æ˜

### æœåŠ¡é…ç½®æ–‡ä»¶ä½ç½®
- **ç”¨æˆ·æœåŠ¡**: `~/.config/systemd/user/upji-vision-test.service`
- **æ¡Œé¢è‡ªå¯åŠ¨**: `~/.config/autostart/upji-vision-test.desktop`

### ç¯å¢ƒå˜é‡
- `DISPLAY=:0` - æ˜¾ç¤ºç¯å¢ƒ
- `XDG_RUNTIME_DIR` - è¿è¡Œæ—¶ç›®å½•
- `PULSE_RUNTIME_PATH` - éŸ³é¢‘ç³»ç»Ÿè·¯å¾„

## ğŸ¯ æµ‹è¯•æ–¹æ³•

### 1. æ‰‹åŠ¨æµ‹è¯•
```bash
# å¯åŠ¨æœåŠ¡
systemctl --user start upji-vision-test

# æŸ¥çœ‹çŠ¶æ€
systemctl --user status upji-vision-test

# æŸ¥çœ‹æ—¥å¿—
journalctl --user -u upji-vision-test -f
```

### 2. å¼€æœºæµ‹è¯•
1. é‡å¯ç”µè„‘
2. ç™»å½•åˆ°æ¡Œé¢ç¯å¢ƒ
3. æ£€æŸ¥ç¨‹åºæ˜¯å¦è‡ªåŠ¨å¯åŠ¨
4. å¦‚æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹æ—¥å¿—è¿›è¡Œè°ƒè¯•

## âš ï¸ æ³¨æ„äº‹é¡¹

### ç³»ç»Ÿè¦æ±‚
- éœ€è¦ç™»å½•åˆ°æ¡Œé¢ç¯å¢ƒï¼ˆå›¾å½¢ç•Œé¢ï¼‰
- éœ€è¦æ‘„åƒå¤´å’Œéº¦å…‹é£æƒé™
- éœ€è¦ç½‘ç»œè¿æ¥ï¼ˆè¯­éŸ³è¯†åˆ«åŠŸèƒ½ï¼‰

### å¸¸è§é—®é¢˜

#### 1. æœåŠ¡å¯åŠ¨å¤±è´¥
- æ£€æŸ¥Python3æ˜¯å¦æ­£ç¡®å®‰è£…
- æ£€æŸ¥ç¨‹åºè·¯å¾„æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š`journalctl --user -u upji-vision-test --priority=err`

#### 2. æ‘„åƒå¤´æ— æ³•è®¿é—®
- ç¡®ä¿æ‘„åƒå¤´è®¾å¤‡å¯ç”¨
- æ£€æŸ¥æ‘„åƒå¤´æƒé™è®¾ç½®
- ç¡®ä¿æ²¡æœ‰å…¶ä»–ç¨‹åºå ç”¨æ‘„åƒå¤´

#### 3. è¯­éŸ³è¯†åˆ«ä¸å·¥ä½œ
- æ£€æŸ¥éº¦å…‹é£è®¾å¤‡
- ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸
- æ£€æŸ¥è¯­éŸ³è¯†åˆ«é…ç½®

#### 4. ç¨‹åºç•Œé¢ä¸æ˜¾ç¤º
- ç¡®ä¿å·²ç™»å½•åˆ°æ¡Œé¢ç¯å¢ƒ
- æ£€æŸ¥DISPLAYç¯å¢ƒå˜é‡è®¾ç½®
- å°è¯•æ‰‹åŠ¨å¯åŠ¨ç¨‹åºæµ‹è¯•

## ğŸ› ï¸ æ•…éšœæ’é™¤

### æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
```bash
# æŸ¥çœ‹æœåŠ¡è¯¦ç»†çŠ¶æ€
systemctl --user status upji-vision-test -l

# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯
journalctl --user -u upji-vision-test --since "1 hour ago" --priority=err

# æŸ¥çœ‹å®Œæ•´æ—¥å¿—
journalctl --user -u upji-vision-test --no-pager
```

### é‡æ–°å®‰è£…æœåŠ¡
```bash
# åœæ­¢å¹¶ç¦ç”¨æœåŠ¡
systemctl --user stop upji-vision-test
systemctl --user disable upji-vision-test

# åˆ é™¤æœåŠ¡æ–‡ä»¶
rm ~/.config/systemd/user/upji-vision-test.service

# é‡æ–°è¿è¡Œå®‰è£…è„šæœ¬
./install_autostart_main.sh
```

### æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•
```bash
# ç›´æ¥è¿è¡Œç¨‹åºæµ‹è¯•
cd /home/cat/æ¡Œé¢/shilibiao/upji
python3 main.py
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
2. æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ
3. å°è¯•æ‰‹åŠ¨å¯åŠ¨ç¨‹åº
4. è®°å½•é”™è¯¯ä¿¡æ¯

---

**å®‰è£…å®Œæˆåï¼Œç³»ç»Ÿå°†åœ¨æ¯æ¬¡å¼€æœºç™»å½•åè‡ªåŠ¨å¯åŠ¨UPJIè§†åŠ›æµ‹è¯•ç³»ç»Ÿï¼**
