# 电子视力系统 - 全屏启动使用说明

## 🎯 核心功能

**程序现在启动时会直接进入全屏模式，程序框图自动覆盖满整个屏幕！**

**✅ 已修复全屏模式下的界面重叠问题！**

## 🚀 启动方式

### 方式1：使用启动脚本（推荐）
```bash
cd ~/桌面
./电子视力系统_静默版.sh
```

### 方式2：直接运行Python程序
```bash
cd /home/cat/桌面/shilibiao/upji
export DISPLAY=:0
python3 main.py
```

## 🖥️ 显示效果

### ✅ 启动时
- **程序立即进入全屏模式**
- **程序框图覆盖满整个屏幕**
- 无标题栏，无任务栏，完全沉浸式体验
- 右侧有醒目的红色"❌ 退出"按钮
- **界面布局智能适配，不会出现重叠问题**

### 📱 窗口模式（按F11后）
- 保留标题栏和任务栏
- 程序窗口最大化显示
- 退出按钮恢复正常大小

## 🎮 操作方式

### 退出程序
1. **点击退出按钮** - 右侧红色"❌ 退出"按钮
2. **快捷键退出** - 按 `Ctrl+Q`
3. **菜单退出** - 按F11切换到窗口模式后，使用菜单栏

### 切换显示模式
- **F11键** - 在全屏模式和窗口模式间切换

### 基本操作
1. 启动程序（自动全屏）
2. 点击"启动摄像头"开始手势识别
3. 点击"开始测试"进行视力测试
4. 用手指指向E字母的开口方向
5. 完成测试后点击"❌ 退出"或按Ctrl+Q退出

## 🔧 配置选项

如果不想自动全屏启动，可以修改配置：

1. 按F11切换到窗口模式
2. 点击菜单 → 设置 → 系统设置
3. 取消勾选"🖥️ 启动时自动进入全屏模式"
4. 保存设置并重启程序

## 💡 使用提示

### 全屏模式优势
- ✅ 程序框图完全覆盖屏幕，视觉效果最佳
- ✅ 无干扰的沉浸式测试环境
- ✅ 充分利用屏幕空间显示E字母
- ✅ 专业的视力测试体验

### 退出按钮特点
- 🔴 醒目的红色设计，容易找到
- 📏 全屏模式下更大（120x50像素）
- 🎯 鼠标悬停有视觉反馈
- ⚡ 点击后安全退出，自动清理资源

### 快捷键汇总
- `F11` - 切换全屏/窗口模式
- `Ctrl+Q` - 快速退出程序
- `Esc` - 在某些对话框中取消操作

## 🛠️ 故障排除

### 如果程序无法启动
1. 检查是否设置了正确的显示环境：`export DISPLAY=:0`
2. 确保有足够的系统权限
3. 检查摄像头是否被其他程序占用

### 如果无法退出全屏
1. 按 `F11` 键切换到窗口模式
2. 使用 `Ctrl+Q` 快捷键退出
3. 如果都无效，可以使用 `Alt+F4` 强制关闭

### 如果退出按钮不可见
1. 检查屏幕分辨率是否过低
2. 按 `F11` 切换到窗口模式查看
3. 使用 `Ctrl+Q` 快捷键退出

## 📊 技术特性

### 自动全屏启动
- 配置文件中 `auto_fullscreen` 默认设为 `True`
- 程序启动时直接调用 `showFullScreen()`
- 无需用户手动操作

### 智能界面调整（已修复重叠问题）
- 精确计算可用空间，预留控制区域和结果区域
- E字母显示区域和摄像头区域各占可用宽度的48%
- Frame大小智能限制在300-550像素之间
- 结果区域高度固定为屏幕高度的20%（最大180px）
- 控制按钮高度优化为45px，间距合理分布
- 退出按钮在不同模式下大小不同

### 安全退出机制
- 自动关闭摄像头资源
- 停止语音控制功能
- 清理AI诊断线程
- 显示退出进度信息

## 🎉 总结

现在的电子视力系统完全满足您的需求：

✅ **启动即全屏** - 程序框图立即覆盖满整个屏幕  
✅ **方便退出** - 醒目的退出按钮和快捷键  
✅ **专业体验** - 沉浸式的视力测试环境  
✅ **操作简单** - 一键启动，一键退出  

享受您的全屏视力测试体验吧！ 🎯👁️
